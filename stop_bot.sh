#!/bin/bash
# ะกะบัะธะฟั ะดะปั ะพััะฐะฝะพะฒะบะธ ะฑะพัะฐ

echo "๐ ะััะฐะฝะฐะฒะปะธะฒะฐั ะฑะพัะฐ..."

# ะกะฟะพัะพะฑ 1: ะัะฟะพะปัะทัั PID ัะฐะนะป
if [ -f "bot.pid" ]; then
    PID=$(cat bot.pid)
    if kill -0 $PID 2>/dev/null; then
        kill $PID
        echo "โ ะะพั ั PID $PID ะพััะฐะฝะพะฒะปะตะฝ"
    else
        echo "โ๏ธ ะัะพัะตัั ั PID $PID ะฝะต ะฝะฐะนะดะตะฝ"
    fi
    rm bot.pid
fi

# ะกะฟะพัะพะฑ 2: ะะฐัะพะดะธะผ ะฟัะพัะตััั ะฟะพ ะธะผะตะฝะธ
pkill -f "python.*bot.py"

# ะกะฟะพัะพะฑ 3: ะะพะปะตะต ัะพัะฝัะน ะฟะพะธัะบ
ps aux | grep "python.*bot.py" | grep -v grep | awk '{print $2}' | xargs kill 2>/dev/null

echo "๐ ะัะต ะฟัะพัะตััั ะฑะพัะฐ ะพััะฐะฝะพะฒะปะตะฝั"